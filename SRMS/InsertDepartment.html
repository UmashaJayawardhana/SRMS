<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add New Department</title>
    <link rel="stylesheet" href="assets/css/insertformstyle.css" />
    
</head>
<body>
    <div class="head-section">
        <div class="system-logo">
        <a href="HomePageMain.php" onclick="loadPage(event, 'homeimage.html')"><img src="assets/images/Education-Logo.png" alt="System Logo"></a>
            </div>
            <div class="system-name">SRMS</div>
            
        <div class="system-subname">Student Result Management System</div>
        <button type="submit" class="logout-button" onclick="window.location.href='LoginForm.html'">Log Out</button>
           
            
        </div>
    <div>
        <img src="assets/images/homepage.png" alt="Container" class="container-image" height:>
    <div class="container">
        <h2>Add New Department</h2>
        <form id="addDepartmentForm" action="InsertDepartment.php" method="post">
            <label for="depcode">Department Code</label>
            <input type="text" id="txtdepcode" name="depcode" required>
            <div><span class="error-msg" id="depcodemsg"></span></div>

            <label for="depname">Department Name</label>
            <input type="text" id="txtdepname" name="depname" required>
            <div><span class="error-msg" id="depnamemsg"></span></div>

            <label for="numofstudents">Number of Students</label>
            <input type="number" id="txtnumOfstudents" name="numofstudents" required>
            <div><span class="error-msg" id="numstumsg"></span></div>

            <label for="headofdivision">Head of the Division</label>
            <input type="text" id="txtheadofdivision" name="headofdivision" required>
            <div><span class="error-msg" id="hodmsg"></span></div>

            <button type="submit" class="addbutton">Add Department</button>
        </form>
        <div class="buttonContainer">
        <a class="myDetailBtn" href="GetAllDepartment.php">All</a>
        <a class="myUpdateBtn" href="EditDepartment.php">Edit</a>
        <a class="myDeleteBtn" href="DeleteDepartment.php">Delete</a>
        </div>
    </div>
</div>
</body>
    <script>
        
            // Get form data
            const depcode = document.getElementById('txtdepcode');
            const depname = document.getElementById('txtdepname');
            const numofstudents = document.getElementById('txtnumOfstudents');
            const headofdivision = document.getElementById('txtheadofdivision');

            //Validate Department Code
        function validateDepCode() {
                const depcode = txtdepcode.value.trim();
                const crti1 = depcode != "";
                if (!crti1) {
                    depcodemsg.innerHTML = "Department Code is required";
                    return false;
                
                } else {
                    depcodemsg.innerHTML = "";
                    return true;
                }
            }
        
        //Validate Department Name
            function validateDepName() {
                const depname = txtdepname.value.trim();
                const crti1 = depname != "";
                if (!crti1) {
                    depnamemsg.innerHTML = "Department Name is required";
                    return false;
                } else {
                    depnamemsg.innerHTML = "";
                    return true;
                }
            }

            //Validate Num of Stu
        function validateNumStu() {
                const numofstudents = numofstudents.value.trim();
                const crti1 = numofstudents != "";
                if (!crti1) {
                    numstumsg.innerHTML = "Number Of Student is required";
                    return false;
                
                } else {
                    numstumsg.innerHTML = "";
                    return true;
                }
            }
        
        //Validate Department HOD
            function validateDepHOD() {
                const headofdivision = txtheadofdivision.value.trim();
                const crti1 = headofdivision != "";
                if (!crti1) {
                    hodmsg.innerHTML = "HOD Name is required";
                    return false;
                } else {
                    hodmsg.innerHTML = "";
                    return true;
                }
            }

            addDepartmentForm.addEventListener('submit', function(e){

const depcodeValidity = validateDepCode();
const depnameValidity = validateDepName();
const numstuValidity = validateNumStu();
const hodValidity = validateDepHOD();

if( !depcodeValidity || !depnameValidity || !numstuValidity || !hodValidity) e.preventDefault();
});


</script>

<style type="text/css">
.error-msg {
color: #e60e0e;
font-size: 15px;
}
</style>

</html>
